(function(e){if(!String.prototype.includes){(function(){var p={}.toString;var o=(function(){try{var s={};var r=Object.defineProperty;var t=r(s,s,s)&&r}catch(q){}return t}());var n="".indexOf;var m=function(t){if(this==null){throw new TypeError()}var u=String(this);if(t&&p.call(t)=="[object RegExp]"){throw new TypeError()}var v=u.length;var s=String(t);var r=s.length;var q=arguments.length>1?arguments[1]:undefined;var x=q?Number(q):0;if(x!=x){x=0}var w=Math.min(Math.max(x,0),v);if(r+w>v){return false}return n.call(u,s,x)!=-1};if(o){o(String.prototype,"includes",{value:m,configurable:true,writable:true})}else{String.prototype.includes=m}}())}if(!String.prototype.startsWith){(function(){var n=(function(){try{var r={};var q=Object.defineProperty;var s=q(r,r,r)&&q}catch(p){}return s}());var o={}.toString;var m=function(v){if(this==null){throw new TypeError()}var q=String(this);if(v&&o.call(v)=="[object RegExp]"){throw new TypeError()}var u=q.length;var x=String(v);var r=x.length;var s=arguments.length>1?arguments[1]:undefined;var w=s?Number(s):0;if(w!=w){w=0}var p=Math.min(Math.max(w,0),u);if(r+p>u){return false}var t=-1;while(++t<r){if(q.charCodeAt(p+t)!=x.charCodeAt(t)){return false}}return true};if(n){n(String.prototype,"startsWith",{value:m,configurable:true,writable:true})}else{String.prototype.startsWith=m}}())}if(!Object.keys){Object.keys=function(p,m,n){n=[];for(m in p){n.hasOwnProperty.call(p,m)&&n.push(m)}return n}}var f={useDefault:false,_set:e.valHooks.select.set};e.valHooks.select.set=function(m,n){if(n&&!f.useDefault){e(m).data("selected",true)}return f._set.apply(this,arguments)};var k=null;e.fn.triggerNative=function(m){var n=this[0],o;if(n.dispatchEvent){if(typeof Event==="function"){o=new Event(m,{bubbles:true})}else{o=document.createEvent("Event");o.initEvent(m,true,false)}n.dispatchEvent(o)}else{if(n.fireEvent){o=document.createEventObject();o.eventType=m;n.fireEvent("on"+m,o)}else{this.trigger(m)}}};e.expr.pseudos.icontains=function(p,m,o){var q=e(p);var n=(q.data("tokens")||q.text()).toString().toUpperCase();return n.includes(o[3].toUpperCase())};e.expr.pseudos.ibegins=function(p,m,o){var q=e(p);var n=(q.data("tokens")||q.text()).toString().toUpperCase();return n.startsWith(o[3].toUpperCase())};e.expr.pseudos.aicontains=function(p,m,o){var q=e(p);var n=(q.data("tokens")||q.data("normalizedText")||q.text()).toString().toUpperCase();return n.includes(o[3].toUpperCase())};e.expr.pseudos.aibegins=function(p,m,o){var q=e(p);var n=(q.data("tokens")||q.data("normalizedText")||q.text()).toString().toUpperCase();return n.startsWith(o[3].toUpperCase())};function b(n){var m=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];e.each(m,function(){n=n?n.replace(this.re,this.ch):""});return n}var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var a={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"};var d=function(q){var n=function(r){return q[r]};var m="(?:"+Object.keys(q).join("|")+")";var p=RegExp(m);var o=RegExp(m,"g");return function(r){r=r==null?"":""+r;return p.test(r)?r.replace(o,n):r}};var j=d(g);var h=d(a);var i=function(m,n){if(!f.useDefault){e.valHooks.select.set=f._set;f.useDefault=true}this.$element=e(m);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=n;if(this.options.title===null){this.options.title=this.$element.attr("title")}var o=this.options.windowPadding;if(typeof o==="number"){this.options.windowPadding=[o,o,o,o]}this.val=i.prototype.val;this.render=i.prototype.render;this.refresh=i.prototype.refresh;this.setStyle=i.prototype.setStyle;this.selectAll=i.prototype.selectAll;this.deselectAll=i.prototype.deselectAll;this.destroy=i.prototype.destroy;this.remove=i.prototype.remove;this.show=i.prototype.show;this.hide=i.prototype.hide;this.init()};i.VERSION="1.12.2";i.DEFAULTS={noneSelectedText:"没有选中任何项",noneResultsText:"没有找到匹配项",countSelectedText:"选中{1}中的{0}项",maxOptionsText:["超出限制 (最多选择{n}项)","组选择超出限制(最多选择{n}组)"],selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:false,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,liveSearchPlaceholder:null,liveSearchNormalize:false,liveSearchStyle:"contains",actionsBox:false,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:false,template:{caret:'<span class="caret"></span>'},maxOptions:false,mobile:false,selectOnTab:false,dropdownAlignRight:false,windowPadding:0};i.prototype={constructor:i,init:function(){var m=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.$element.removeClass("bs-select-hidden");if(this.options.dropdownAlignRight===true){this.$menu.addClass("dropdown-menu-right")}if(typeof n!=="undefined"){this.$button.attr("data-id",n);e('label[for="'+n+'"]').click(function(o){o.preventDefault();m.$button.focus()})}this.checkDisabled();this.clickListener();if(this.options.liveSearch){this.liveSearchListener()}this.render();this.setStyle();this.setWidth();if(this.options.container){this.selectPosition()}this.$menu.data("this",this);this.$newElement.data("this",this);if(this.options.mobile){this.mobile()}this.$newElement.on({"hide.bs.dropdown":function(o){m.$menuInner.attr("aria-expanded",false);m.$element.trigger("hide.bs.select",o)},"hidden.bs.dropdown":function(o){m.$element.trigger("hidden.bs.select",o)},"show.bs.dropdown":function(o){m.$menuInner.attr("aria-expanded",true);m.$element.trigger("show.bs.select",o)},"shown.bs.dropdown":function(o){m.$element.trigger("shown.bs.select",o)}});if(m.$element[0].hasAttribute("required")){this.$element.on("invalid",function(){m.$button.addClass("bs-invalid").focus();m.$element.on({"focus.bs.select":function(){m.$button.focus();m.$element.off("focus.bs.select")},"shown.bs.select":function(){m.$element.val(m.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){if(this.validity.valid){m.$button.removeClass("bs-invalid")}m.$element.off("rendered.bs.select")}})})}setTimeout(function(){m.$element.trigger("loaded.bs.select")})},createDropdown:function(){var s=(this.multiple||this.options.showTick)?" show-tick":"",m=this.$element.parent().hasClass("input-group")?" input-group-btn":"",t=this.autofocus?" autofocus":"";var r=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var p=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+j(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"";var o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"";var q=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"";var n='<div class="btn-group bootstrap-select'+s+m+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+t+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+r+p+o+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+q+"</div></div>";return e(n)},createView:function(){var n=this.createDropdown(),m=this.createLi();n.find("ul")[0].innerHTML=m;return n},reloadLi:function(){var m=this.createLi();this.$menuInner[0].innerHTML=m},createLi:function(){var r=this,q=[],u=0,m=document.createElement("option"),o=-1;var t=function(y,v,x,w){return"<li"+((typeof x!=="undefined"&""!==x)?' class="'+x+'"':"")+((typeof v!=="undefined"&null!==v)?' data-original-index="'+v+'"':"")+((typeof w!=="undefined"&null!==w)?'data-optgroup="'+w+'"':"")+">"+y+"</li>"};var n=function(w,v,y,x){return'<a tabindex="0"'+(typeof v!=="undefined"?' class="'+v+'"':"")+(y?' style="'+y+'"':"")+(r.options.liveSearchNormalize?' data-normalized-text="'+b(j(e(w).html()))+'"':"")+(typeof x!=="undefined"||x!==null?' data-tokens="'+x+'"':"")+' role="option">'+w+'<span class="'+r.options.iconBase+" "+r.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple){o--;if(!this.$element.find(".bs-title-option").length){var p=this.$element[0];m.className="bs-title-option";m.innerHTML=this.options.title;m.value="";p.insertBefore(m,p.firstChild);var s=e(p.options[p.selectedIndex]);if(s.attr("selected")===undefined&&this.$element.data("selected")===undefined){m.selected=true}}}this.$element.find("option").each(function(y){var z=e(this);o++;if(z.hasClass("bs-title-option")){return}var w=this.className||"",A=this.style.cssText,D=z.data("content")?z.data("content"):z.html(),R=z.data("tokens")?z.data("tokens"):null,H=typeof z.data("subtext")!=="undefined"?'<small class="text-muted">'+z.data("subtext")+"</small>":"",L=typeof z.data("icon")!=="undefined"?'<span class="'+r.options.iconBase+" "+z.data("icon")+'"></span> ':"",F=z.parent(),C=F[0].tagName==="OPTGROUP",N=C&&F[0].disabled,v=this.disabled||N;if(L!==""&&v){L="<span>"+L+"</span>"}if(r.options.hideDisabled&&(v&&!C||N)){o--;return}if(!z.data("content")){D=L+'<span class="text">'+D+H+"</span>"}if(C&&z.data("divider")!==true){if(r.options.hideDisabled&&v){if(F.data("allOptionsDisabled")===undefined){var I=F.children();F.data("allOptionsDisabled",I.filter(":disabled").length===I.length)}if(F.data("allOptionsDisabled")){o--;return}}var O=" "+F[0].className||"";if(z.index()===0){u+=1;var B=F[0].label,Q=typeof F.data("subtext")!=="undefined"?'<small class="text-muted">'+F.data("subtext")+"</small>":"",P=F.data("icon")?'<span class="'+r.options.iconBase+" "+F.data("icon")+'"></span> ':"";B=P+'<span class="text">'+j(B)+Q+"</span>";if(y!==0&&q.length>0){o++;q.push(t("",null,"divider",u+"div"))}o++;q.push(t(B,null,"dropdown-header"+O,u))}if(r.options.hideDisabled&&v){o--;return}q.push(t(n(D,"opt "+w+O,A,R),y,"",u))}else{if(z.data("divider")===true){q.push(t("",y,"divider"))}else{if(z.data("hidden")===true){q.push(t(n(D,w,A,R),y,"hidden is-hidden"))}else{var E=this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP";if(!E&&r.options.hideDisabled){var K=e(this).prevAll();for(var J=0;J<K.length;J++){if(K[J].tagName==="OPTGROUP"){var G=0;for(var M=0;M<J;M++){var x=K[M];if(x.disabled||e(x).data("hidden")===true){G++}}if(G===J){E=true}break}}}if(E){o++;q.push(t("",null,"divider",u+"div"))}q.push(t(n(D,w,A,R),y))}}}r.liObj[y]=o});if(!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return q.join("")},findLis:function(){if(this.$lis==null){this.$lis=this.$menu.find("li")}return this.$lis},render:function(p){var o=this,r;if(p!==false){this.$element.find("option").each(function(u){var v=o.findLis().eq(o.liObj[u]);o.setDisabled(u,this.disabled||this.parentNode.tagName==="OPTGROUP"&&this.parentNode.disabled,v);o.setSelected(u,this.selected,v)})}this.togglePlaceholder();this.tabIndex();var t=this.$element.find("option").map(function(){if(this.selected){if(o.options.hideDisabled&&(this.disabled||this.parentNode.tagName==="OPTGROUP"&&this.parentNode.disabled)){return}var w=e(this),v=w.data("icon")&&o.options.showIcon?'<i class="'+o.options.iconBase+" "+w.data("icon")+'"></i> ':"",u;if(o.options.showSubtext&&w.data("subtext")&&!o.multiple){u=' <small class="text-muted">'+w.data("subtext")+"</small>"}else{u=""}if(typeof w.attr("title")!=="undefined"){return w.attr("title")}else{if(w.data("content")&&o.options.showContent){return w.data("content").toString()}else{return v+w.html()+u}}}}).toArray();var q=!this.multiple?t[0]:t.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var m=this.options.selectedTextFormat.split(">");if((m.length>1&&t.length>m[1])||(m.length==1&&t.length>=2)){r=this.options.hideDisabled?", [disabled]":"";var n=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+r).length,s=(typeof this.options.countSelectedText==="function")?this.options.countSelectedText(t.length,n):this.options.countSelectedText;q=s.replace("{0}",t.length.toString()).replace("{1}",n.toString())}}if(this.options.title==undefined){this.options.title=this.$element.attr("title")}if(this.options.selectedTextFormat=="static"){q=this.options.title}if(!q){q=typeof this.options.title!=="undefined"?this.options.title:this.options.noneSelectedText}this.$button.attr("title",h(e.trim(q.replace(/<[^>]*>?/g,""))));this.$button.children(".filter-option").html(q);this.$element.trigger("rendered.bs.select")},setStyle:function(m,o){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""))}var n=m?m:this.options.style;if(o=="add"){this.$button.addClass(n)}else{if(o=="remove"){this.$button.removeClass(n)}else{this.$button.removeClass(this.options.style);this.$button.addClass(n)}}},liHeight:function(t){if(!t&&(this.options.size===false||this.sizeInfo)){return}var x=document.createElement("div"),m=document.createElement("div"),r=document.createElement("ul"),E=document.createElement("li"),C=document.createElement("li"),I=document.createElement("a"),D=document.createElement("span"),H=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(true):null,p=this.options.liveSearch?document.createElement("div"):null,o=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(true):null,y=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(true):null;D.className="text";x.className=this.$menu[0].parentNode.className+" open";m.className="dropdown-menu open";r.className="dropdown-menu inner";E.className="divider";D.appendChild(document.createTextNode("Inner text"));I.appendChild(D);C.appendChild(I);r.appendChild(C);r.appendChild(E);if(H){m.appendChild(H)}if(p){var A=document.createElement("input");p.className="bs-searchbox";A.className="form-control";p.appendChild(A);m.appendChild(p)}if(o){m.appendChild(o)}m.appendChild(r);if(y){m.appendChild(y)}x.appendChild(m);document.body.appendChild(x);var q=I.offsetHeight,G=H?H.offsetHeight:0,n=p?p.offsetHeight:0,w=o?o.offsetHeight:0,s=y?y.offsetHeight:0,B=e(E).outerHeight(true),z=typeof getComputedStyle==="function"?getComputedStyle(m):false,v=z?null:e(m),F={vert:parseInt(z?z.paddingTop:v.css("paddingTop"))+parseInt(z?z.paddingBottom:v.css("paddingBottom"))+parseInt(z?z.borderTopWidth:v.css("borderTopWidth"))+parseInt(z?z.borderBottomWidth:v.css("borderBottomWidth")),horiz:parseInt(z?z.paddingLeft:v.css("paddingLeft"))+parseInt(z?z.paddingRight:v.css("paddingRight"))+parseInt(z?z.borderLeftWidth:v.css("borderLeftWidth"))+parseInt(z?z.borderRightWidth:v.css("borderRightWidth"))},u={vert:F.vert+parseInt(z?z.marginTop:v.css("marginTop"))+parseInt(z?z.marginBottom:v.css("marginBottom"))+2,horiz:F.horiz+parseInt(z?z.marginLeft:v.css("marginLeft"))+parseInt(z?z.marginRight:v.css("marginRight"))+2};document.body.removeChild(x);this.sizeInfo={liHeight:q,headerHeight:G,searchHeight:n,actionsHeight:w,doneButtonHeight:s,dividerHeight:B,menuPadding:F,menuExtras:u}},setSize:function(){this.findLis();this.liHeight();if(this.options.header){this.$menu.css("padding-top",0)}if(this.options.size===false){return}var v=this,s=this.$menu,x=this.$menuInner,C=e(window),I=this.$newElement[0].offsetHeight,L=this.$newElement[0].offsetWidth,p=this.sizeInfo.liHeight,F=this.sizeInfo.headerHeight,n=this.sizeInfo.searchHeight,u=this.sizeInfo.actionsHeight,q=this.sizeInfo.doneButtonHeight,y=this.sizeInfo.dividerHeight,D=this.sizeInfo.menuPadding,r=this.sizeInfo.menuExtras,B=this.options.hideDisabled?".disabled":"",K,A,z,o,J,H,t,E,G=function(){var Q=v.$newElement.offset(),O=e(v.options.container),P;if(v.options.container&&!O.is("body")){P=O.offset();P.top+=parseInt(O.css("borderTopWidth"));P.left+=parseInt(O.css("borderLeftWidth"))}else{P={top:0,left:0}}var N=v.options.windowPadding;J=Q.top-P.top-C.scrollTop();H=C.height()-J-I-P.top-N[2];t=Q.left-P.left-C.scrollLeft();E=C.width()-t-L-P.left-N[1];J-=N[0];t-=N[3]};G();if(this.options.size==="auto"){var w=function(){var N,Q=function(T,S){return function(U){if(S){return(U.classList?U.classList.contains(T):e(U).hasClass(T))}else{return !(U.classList?U.classList.contains(T):e(U).hasClass(T))}}},P=v.$menuInner[0].getElementsByTagName("li"),O=Array.prototype.filter?Array.prototype.filter.call(P,Q("hidden",false)):v.$lis.not(".hidden"),R=Array.prototype.filter?Array.prototype.filter.call(O,Q("dropdown-header",true)):O.filter(".dropdown-header");G();K=H-r.vert;A=E-r.horiz;if(v.options.container){if(!s.data("height")){s.data("height",s.height())}z=s.data("height");if(!s.data("width")){s.data("width",s.width())}o=s.data("width")}else{z=s.height();o=s.width()}if(v.options.dropupAuto){v.$newElement.toggleClass("dropup",J>H&&(K-r.vert)<z)}if(v.$newElement.hasClass("dropup")){K=J-r.vert}if(v.options.dropdownAlignRight==="auto"){s.toggleClass("dropdown-menu-right",t>E&&(A-r.horiz)<(o-L))}if((O.length+R.length)>3){N=p*3+r.vert-2}else{N=0}s.css({"max-height":K+"px",overflow:"hidden","min-height":N+F+n+u+q+"px"});x.css({"max-height":K-F-n-u-q-D.vert+"px","overflow-y":"auto","min-height":Math.max(N-D.vert,0)+"px"})};w();this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",w);C.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",w)}else{if(this.options.size&&this.options.size!="auto"&&this.$lis.not(B).length>this.options.size){var M=this.$lis.not(".divider").not(B).children().slice(0,this.options.size).last().parent().index(),m=this.$lis.slice(0,M+1).filter(".divider").length;K=p*this.options.size+m*y+D.vert;if(v.options.container){if(!s.data("height")){s.data("height",s.height())}z=s.data("height")}else{z=s.height()}if(v.options.dropupAuto){this.$newElement.toggleClass("dropup",J>H&&(K-r.vert)<z)}s.css({"max-height":K+F+n+u+q+"px",overflow:"hidden","min-height":""});x.css({"max-height":K-D.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if(this.options.width==="auto"){this.$menu.css("min-width","0");var m=this.$menu.parent().clone().appendTo("body"),p=this.options.container?this.$newElement.clone().appendTo("body"):m,n=m.children(".dropdown-menu").outerWidth(),o=p.css("width","auto").children("button").outerWidth();m.remove();p.remove();this.$newElement.css("width",Math.max(n,o)+"px")}else{if(this.options.width==="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else{if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}}}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var n=this,o=e(this.options.container),r,q,p,m=function(s){n.$bsContainer.addClass(s.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",s.hasClass("dropup"));r=s.offset();if(!o.is("body")){q=o.offset();q.top+=parseInt(o.css("borderTopWidth"))-o.scrollTop();q.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()}else{q={top:0,left:0}}p=s.hasClass("dropup")?0:s[0].offsetHeight;n.$bsContainer.css({top:r.top-q.top+p,left:r.left-q.left,width:s[0].offsetWidth})};this.$button.on("click",function(){var s=e(this);if(n.isDisabled()){return}m(n.$newElement);n.$bsContainer.appendTo(n.options.container).toggleClass("open",!s.hasClass("open")).append(n.$menu)});e(window).on("resize scroll",function(){m(n.$newElement)});this.$element.on("hide.bs.select",function(){n.$menu.data("height",n.$menu.height());n.$bsContainer.detach()})},setSelected:function(m,o,n){if(!n){this.togglePlaceholder();n=this.findLis().eq(this.liObj[m])}n.toggleClass("selected",o).find("a").attr("aria-selected",o)},setDisabled:function(m,o,n){if(!n){n=this.findLis().eq(this.liObj[m])}if(o){n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",true)}else{n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",false)}},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var m=this;if(this.isDisabled()){this.$newElement.addClass("disabled");this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",true)}else{if(this.$button.hasClass("disabled")){this.$newElement.removeClass("disabled");this.$button.removeClass("disabled").attr("aria-disabled",false)}if(this.$button.attr("tabindex")==-1&&!this.$element.data("tabindex")){this.$button.removeAttr("tabindex")}}this.$button.click(function(){return !m.isDisabled()})},togglePlaceholder:function(){var m=this.$element.val();this.$button.toggleClass("bs-placeholder",m===null||m===""||(m.constructor===Array&&m.length===0))},tabIndex:function(){if(this.$element.data("tabindex")!==this.$element.attr("tabindex")&&(this.$element.attr("tabindex")!==-98&&this.$element.attr("tabindex")!=="-98")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}this.$element.attr("tabindex",-98)},clickListener:function(){var m=this,n=e(document);n.data("spaceSelect",false);this.$button.on("keyup",function(o){if(/(32)/.test(o.keyCode.toString(10))&&n.data("spaceSelect")){o.preventDefault();n.data("spaceSelect",false)}});this.$button.on("click",function(){m.setSize()});this.$element.on("shown.bs.select",function(){if(!m.options.liveSearch&&!m.multiple){m.$menuInner.find(".selected a").focus()}else{if(!m.multiple){var o=m.liObj[m.$element[0].selectedIndex];if(typeof o!=="number"||m.options.size===false){return}var p=m.$lis.eq(o)[0].offsetTop-m.$menuInner[0].offsetTop;p=p-m.$menuInner[0].offsetHeight/2+m.sizeInfo.liHeight/2;m.$menuInner[0].scrollTop=p}}});this.$menuInner.on("click","li a",function(G){var w=e(this),p=w.parent().data("originalIndex"),F=m.$element.val(),r=m.$element.prop("selectedIndex"),q=true;if(m.multiple&&m.options.maxOptions!==1){G.stopPropagation()}G.preventDefault();if(!m.isDisabled()&&!w.parent().hasClass("disabled")){var C=m.$element.find("option"),D=C.eq(p),t=D.prop("selected"),H=D.parent("optgroup"),y=m.options.maxOptions,A=H.data("maxOptions")||false;if(!m.multiple){C.prop("selected",false);D.prop("selected",true);m.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",false);m.setSelected(p,true)}else{D.prop("selected",!t);m.setSelected(p,!t);w.blur();if(y!==false||A!==false){var x=y<C.filter(":selected").length,v=A<H.find("option:selected").length;if((y&&x)||(A&&v)){if(y&&y==1){C.prop("selected",false);D.prop("selected",true);m.$menuInner.find(".selected").removeClass("selected");m.setSelected(p,true)}else{if(A&&A==1){H.find("option:selected").prop("selected",false);D.prop("selected",true);var E=w.parent().data("optgroup");m.$menuInner.find('[data-optgroup="'+E+'"]').removeClass("selected");m.setSelected(p,true)}else{var o=typeof m.options.maxOptionsText==="string"?[m.options.maxOptionsText,m.options.maxOptionsText]:m.options.maxOptionsText,u=typeof o==="function"?o(y,A):o,z=u[0].replace("{n}",y),s=u[1].replace("{n}",A),B=e('<div class="notify"></div>');if(u[2]){z=z.replace("{var}",u[2][y>1?0:1]);s=s.replace("{var}",u[2][A>1?0:1])}D.prop("selected",false);m.$menu.append(B);if(y&&x){B.append(e("<div>"+z+"</div>"));q=false;m.$element.trigger("maxReached.bs.select")}if(A&&v){B.append(e("<div>"+s+"</div>"));q=false;m.$element.trigger("maxReachedGrp.bs.select")}setTimeout(function(){m.setSelected(p,false)},10);B.delay(750).fadeOut(300,function(){e(this).remove()})}}}}}if(!m.multiple||(m.multiple&&m.options.maxOptions===1)){m.$button.focus()}else{if(m.options.liveSearch){m.$searchbox.focus()}}if(q){if((F!=m.$element.val()&&m.multiple)||(r!=m.$element.prop("selectedIndex")&&!m.multiple)){k=[p,D.prop("selected"),t];m.$element.triggerNative("change")}}}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(o){if(o.currentTarget==this){o.preventDefault();o.stopPropagation();if(m.options.liveSearch&&!e(o.target).hasClass("close")){m.$searchbox.focus()}else{m.$button.focus()}}});this.$menuInner.on("click",".divider, .dropdown-header",function(o){o.preventDefault();o.stopPropagation();if(m.options.liveSearch){m.$searchbox.focus()}else{m.$button.focus()}});this.$menu.on("click",".popover-title .close",function(){m.$button.click()});this.$searchbox.on("click",function(o){o.stopPropagation()});this.$menu.on("click",".actions-btn",function(o){if(m.options.liveSearch){m.$searchbox.focus()}else{m.$button.focus()}o.preventDefault();o.stopPropagation();if(e(this).hasClass("bs-select-all")){m.selectAll()}else{m.deselectAll()}});this.$element.change(function(){m.render(false);m.$element.trigger("changed.bs.select",k);k=null})},liveSearchListener:function(){var n=this,m=e('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active");if(!!n.$searchbox.val()){n.$searchbox.val("");n.$lis.not(".is-hidden").removeClass("hidden");if(!!m.parent().length){m.remove()}}if(!n.multiple){n.$menuInner.find(".selected").addClass("active")}setTimeout(function(){n.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(o){o.stopPropagation()});this.$searchbox.on("input propertychange",function(){n.$lis.not(".is-hidden").removeClass("hidden");n.$lis.filter(".active").removeClass("active");m.remove();if(n.$searchbox.val()){var p=n.$lis.not(".is-hidden, .divider, .dropdown-header"),q;if(n.options.liveSearchNormalize){q=p.find("a").not(":a"+n._searchStyle()+'("'+b(n.$searchbox.val())+'")')}else{q=p.find("a").not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")')}if(q.length===p.length){m.html(n.options.noneResultsText.replace("{0}",'"'+j(n.$searchbox.val())+'"'));n.$menuInner.append(m);n.$lis.addClass("hidden")}else{q.parent().addClass("hidden");var r=n.$lis.not(".hidden"),o;r.each(function(s){var t=e(this);if(t.hasClass("divider")){if(o===undefined){t.addClass("hidden")}else{if(o){o.addClass("hidden")}o=t}}else{if(t.hasClass("dropdown-header")&&r.eq(s+1).data("optgroup")!==t.data("optgroup")){t.addClass("hidden")}else{o=null}}});if(o){o.addClass("hidden")}p.not(".hidden").first().addClass("active")}}})},_searchStyle:function(){var m={begins:"ibegins",startsWith:"ibegins"};return m[this.options.liveSearchStyle]||"icontains"},val:function(m){if(typeof m!=="undefined"){this.$element.val(m);this.render();return this.$element}else{return this.$element.val()}},changeAll:function(p){if(!this.multiple){return}if(typeof p==="undefined"){p=true}this.findLis();var m=this.$element.find("option"),r=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),o=r.length,q=[];if(p){if(r.filter(".selected").length===r.length){return}}else{if(r.filter(".selected").length===0){return}}r.toggleClass("selected",p);for(var n=0;n<o;n++){var s=r[n].getAttribute("data-original-index");q[q.length]=m.eq(s)[0]}e(q).prop("selected",p);this.render(false);this.togglePlaceholder();this.$element.triggerNative("change")},selectAll:function(){return this.changeAll(true)},deselectAll:function(){return this.changeAll(false)},toggle:function(m){m=m||window.event;if(m){m.stopPropagation()}this.$button.trigger("click")},keydown:function(E){var s=e(this),y=s.is("input")?s.parent().parent():s.parent(),o,u=y.data("this"),r,A,p,v,z,m,n,C,B=":not(.disabled, .hidden, .dropdown-header, .divider)",w={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(u.options.liveSearch){y=s.parent().parent()}if(u.options.container){y=u.$menu}o=e('[role="listbox"] li',y);C=u.$newElement.hasClass("open");if(!C&&(E.keyCode>=48&&E.keyCode<=57||E.keyCode>=96&&E.keyCode<=105||E.keyCode>=65&&E.keyCode<=90)){if(!u.options.container){u.setSize();u.$menu.parent().addClass("open");C=true}else{u.$button.trigger("click")}u.$searchbox.focus();return}if(u.options.liveSearch){if(/(^9$|27)/.test(E.keyCode.toString(10))&&C){E.preventDefault();E.stopPropagation();u.$menuInner.click();u.$button.focus()}o=e('[role="listbox"] li'+B,y);if(!s.val()&&!/(38|40)/.test(E.keyCode.toString(10))){if(o.filter(".active").length===0){o=u.$menuInner.find("li");if(u.options.liveSearchNormalize){o=o.filter(":a"+u._searchStyle()+"("+b(w[E.keyCode])+")")}else{o=o.filter(":"+u._searchStyle()+"("+w[E.keyCode]+")")}}}}if(!o.length){return}if(/(38|40)/.test(E.keyCode.toString(10))){r=o.index(o.find("a").filter(":focus").parent());p=o.filter(B).first().index();v=o.filter(B).last().index();A=o.eq(r).nextAll(B).eq(0).index();z=o.eq(r).prevAll(B).eq(0).index();m=o.eq(A).prevAll(B).eq(0).index();if(u.options.liveSearch){o.each(function(F){if(!e(this).hasClass("disabled")){e(this).data("index",F)}});r=o.index(o.filter(".active"));p=o.first().data("index");v=o.last().data("index");A=o.eq(r).nextAll().eq(0).data("index");z=o.eq(r).prevAll().eq(0).data("index");m=o.eq(A).prevAll().eq(0).data("index")}n=s.data("prevIndex");if(E.keyCode==38){if(u.options.liveSearch){r--}if(r!=m&&r>z){r=z}if(r<p){r=p}if(r==n){r=v}}else{if(E.keyCode==40){if(u.options.liveSearch){r++}if(r==-1){r=0}if(r!=m&&r<A){r=A}if(r>v){r=v}if(r==n){r=p}}}s.data("prevIndex",r);if(!u.options.liveSearch){o.eq(r).children("a").focus()}else{E.preventDefault();if(!s.hasClass("dropdown-toggle")){o.removeClass("active").eq(r).addClass("active").children("a").focus();s.focus()}}}else{if(!s.is("input")){var t=[],q,x;o.each(function(){if(!e(this).hasClass("disabled")){if(e.trim(e(this).children("a").text().toLowerCase()).substring(0,1)==w[E.keyCode]){t.push(e(this).index())}}});q=e(document).data("keycount");q++;e(document).data("keycount",q);x=e.trim(e(":focus").text().toLowerCase()).substring(0,1);if(x!=w[E.keyCode]){q=1;e(document).data("keycount",q)}else{if(q>=t.length){e(document).data("keycount",0);if(q>t.length){q=1}}}o.eq(t[q-1]).children("a").focus()}}if((/(13|32)/.test(E.keyCode.toString(10))||(/(^9$)/.test(E.keyCode.toString(10))&&u.options.selectOnTab))&&C){if(!/(32)/.test(E.keyCode.toString(10))){E.preventDefault()}if(!u.options.liveSearch){var D=e(":focus");D.click();D.focus();E.preventDefault();e(document).data("spaceSelect",true)}else{if(!/(32)/.test(E.keyCode.toString(10))){u.$menuInner.find(".active a").click();s.focus()}}e(document).data("keycount",0)}if((/(^9$|27)/.test(E.keyCode.toString(10))&&C&&(u.multiple||u.options.liveSearch))||(/(27)/.test(E.keyCode.toString(10))&&!C)){u.$menu.parent().removeClass("open");if(u.options.container){u.$newElement.removeClass("open")}u.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(true);this.setStyle();this.setWidth();if(this.$lis){this.$searchbox.trigger("propertychange")}this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();if(this.$bsContainer){this.$bsContainer.remove()}else{this.$menu.remove()}this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};function l(m){var n=arguments;var q=m;[].shift.apply(n);var p;var o=this.each(function(){var v=e(this);if(v.is("select")){var u=v.data("selectpicker"),t=typeof q=="object"&&q;if(!u){var s=e.extend({},i.DEFAULTS,e.fn.selectpicker.defaults||{},v.data(),t);s.template=e.extend({},i.DEFAULTS.template,(e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{}),v.data().template,t.template);v.data("selectpicker",(u=new i(this,s)))}else{if(t){for(var r in t){if(t.hasOwnProperty(r)){u.options[r]=t[r]}}}}if(typeof q=="string"){if(u[q] instanceof Function){p=u[q].apply(u,n)}else{p=u.options[q]}}}});if(typeof p!=="undefined"){return p}else{return o}}var c=e.fn.selectpicker;e.fn.selectpicker=l;e.fn.selectpicker.Constructor=i;e.fn.selectpicker.noConflict=function(){e.fn.selectpicker=c;return this};e(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',i.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(m){m.stopPropagation()});e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var m=e(this);l.call(m,m.data())})})})(jQuery);